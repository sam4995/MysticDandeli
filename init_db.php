<?php require __DIR__.'/db.php'; $db=db(); $db->exec("CREATE TABLE IF NOT EXISTS activities (id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL, slug TEXT UNIQUE, short_desc TEXT, price INTEGER, created_at DATETIME DEFAULT CURRENT_TIMESTAMP); CREATE TABLE IF NOT EXISTS resorts (id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL, slug TEXT UNIQUE, short_desc TEXT, price INTEGER, created_at DATETIME DEFAULT CURRENT_TIMESTAMP); CREATE TABLE IF NOT EXISTS bookings (id INTEGER PRIMARY KEY AUTOINCREMENT, type TEXT NOT NULL, ref_id INTEGER NOT NULL, checkin DATE, checkout DATE, activity_date DATE, people INTEGER, name TEXT, email TEXT, phone TEXT, notes TEXT, status TEXT DEFAULT 'new', created_at DATETIME DEFAULT CURRENT_TIMESTAMP); CREATE TABLE IF NOT EXISTS messages (id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT, email TEXT, phone TEXT, subject TEXT, message TEXT, created_at DATETIME DEFAULT CURRENT_TIMESTAMP);"); if(!$db->query("SELECT COUNT(*) FROM activities")->fetchColumn()){ $stmt=$db->prepare("INSERT INTO activities (name,slug,short_desc,price) VALUES (?,?,?,?)"); foreach([["White Water Rafting","river-rafting","Guided rafting on the Kali River (seasonal).",1800],["Jungle Safari","jungle-safari","Open jeep safariâ€”spot birds & wildlife.",1500],["Kayaking","kayaking","Calm-water kayaking with life jackets & guide.",800]] as $s){$stmt->execute($s);} } if(!$db->query("SELECT COUNT(*) FROM resorts")->fetchColumn()){ $stmt=$db->prepare("INSERT INTO resorts (name,slug,short_desc,price) VALUES (?,?,?,?)"); foreach([["Forest Camp","forest-camp","Cozy tents in the jungle with campfire.",1750],["River View Resort","river-view","Comfort rooms by the river; activities nearby.",2400],["Luxury Pool Retreat","luxury-pool","Premium stay with pool & great dining.",3800]] as $s){$stmt->execute($s);} } echo "Database ready. <a href='index.php'>Go to site</a>"; ?>